# 需求清单

- [x] 首列的 cell 背景也不要特化颜色，应该和其他行一样
- [x] Add Row / Remove Row 应该放在行左边行号被击的右键菜单中
- [x] Add Column / Remove Column 应该放在行上边列号被击的右键菜单中
- [x] 组件打开时, 所有列的 cell 应该是正好能放下当前列的最长 cell. 最窄的 cell 为一个祖父宽度
- [x] cell 内不要有内间距, 要最经凑
- [x] 最上面一行为 status bar, 显示
    - [x] Mode (KHTable / Normal), 打开表格时自动识别, 支持强制切换
    - [x] 显示编辑状态和保存
    - [x] 支持切换成展示原始 csv 文件, 这种情况下也要支持编辑
- KHTable 的渲染背景色要求
  - [x] Mark Row 按类型区分 cell 的背景色
    - [x] @ - 浅蓝色
    - [x] 会产生 meta 关联的行 (alias/enum) - 浅绿色
    - [x] 会产生跨表数据关联的行 (非 @ 的 tid) - 浅紫色
    - [x] 结构化数据的符号 ({} [] 等) - 灰色 #666666
    - [x] 对应 mark row 为空或者 # (注释) 的列 - 灰色 #AAAAAA
    - [x] 其他 - 浅灰色 #C1C1C1
  - [x] Desc Row 背景色与其上 MarkRow 保持一致
  - [x] Data Row 背景色
    - [x] 需要填数据的列 (非结构化数据符号) 背景色交替出现 #FFFFFF 和 #EEEEEF
    - [x] 结构化数据符号 ({} [] 等)对应的列, 对应 mark row 为空或者 # (注释) 的列 - #999999
    - [x] @ 对应的所有列 - 浅蓝色
- KHTable 的渲染字体要求
  - [x] default 情况下所有结构化数据符号 ({} [] 等) 的字体加粗
    - [ ] 颜色为彩虹色, 即先对括号进行配对, 同一级配对的括号颜色相同
    - [ ] 相邻不同级别颜色应不同, 按照栈深度在 橙色, 黄色, 绿色, 蓝色, 靛蓝色, 紫色中交替出现
  - [x] Mark Row 为 # 列对应整列, 斜体 字体为 #333333
  - [x] Mark Row 为 @、alias、tid 的整列，加粗
  - [ ] 其他都为纯黑颜色, 非粗体, 也非斜体 (比如可选项?, 也不会变成斜体)
  - [ ] enum 的输入会变成下拉菜单, 且文字外面会多出标签背景样式
- KHTable 的特殊检查要求 (只在开启 khtable 时)
  - [x] 紧贴着最左侧的连续 @ 列和 alias 列, 应该冻结渲染位置, 不会被滚动影响
  - [ ] 行左边行号被击的右键菜单中, 支持直接复制本行的 tid
